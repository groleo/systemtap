set test "ptr-1.2"

if {$::tcl_platform(wordSize) == 8} {
  set ::result_string "0x0000000000000000
0x0000000000000001
0x0000000012345678
0x12345678abcdef00
0x0000000012345678

  0x0000000000000000X
  0x0000000000000001X
  0x0000000012345678X
  0x12345678abcdef00X
  0x0000000012345678X

0x000000000000000000X
0x000000000000000001X
0x000000000012345678X
0x0012345678abcdef00X
0x000000000012345678X

0x000000
0x000001
0x12345678
0x12345678abcdef00
0x12345678

0x000000X
0x000001X
0x12345678X
0x12345678abcdef00X
0x12345678X

0x0000000000000000
0x0000000000000001
0x0000000012345678
0x12345678abcdef00
0x0000000012345678"
} else {
  set ::result_string "0x00000000
0x00000001
0x12345678
0xabcdef00
0x12345678

          0x00000000X
          0x00000001X
          0x12345678X
          0xabcdef00X
          0x12345678X

0x000000000000000000X
0x000000000000000001X
0x000000000012345678X
0x0000000000abcdef00X
0x000000000012345678X

0x000000
0x000001
0x12345678
0xabcdef00
0x12345678

0x000000X
0x000001X
0x12345678X
0xabcdef00X
0x12345678X

0x00000000
0x00000001
0x12345678
0xabcdef00
0x12345678"
}

foreach runtime [get_runtime_list] {
    if {$runtime != ""} {
	stap_run2 $srcdir/$subdir/$test.stp --runtime=$runtime --compatible=1.2
	stap_run2 $srcdir/$subdir/$test.stp --runtime=$runtime --compatible=1.2 -DSTP_LEGACY_PRINT
    } else {
	stap_run2 $srcdir/$subdir/$test.stp --compatible=1.2
	stap_run2 $srcdir/$subdir/$test.stp --compatible=1.2 -DSTP_LEGACY_PRINT
    }
}
